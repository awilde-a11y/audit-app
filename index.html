<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Audit-App light (v7)</title>

  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    body { margin: 0; background: #f6f7fb; color: #111; }
    .wrap { max-width: 1020px; margin: 0 auto; padding: 18px; }
    .card { background: #fff; border-radius: 18px; box-shadow: 0 6px 18px rgba(0,0,0,.06); padding: 16px; }
    h1 { margin: 0; font-size: 20px; }
    .sub { margin: 6px 0 0; color: #555; font-size: 13px; }

    .topbar { display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-bottom: 12px; }
    .pill { padding: 6px 10px; border-radius: 999px; background: #f1f2f7; border: 1px solid #e4e6f1; font-size: 12px; white-space: nowrap; color:#111; }

    /* ===== TABS (FIX: immer sichtbar) ===== */
    .tabs {
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin: 14px 0 10px;
      background: #f1f2f7;
      border: 1px solid #e4e6f1;
      padding: 6px;
      border-radius: 999px;
      forced-color-adjust: none;
    }
    .tabbtn {
      cursor:pointer;
      border-radius: 999px;
      border: 1px solid #d9dbe6;
      background:#fff;
      padding: 9px 12px;
      font: inherit;
      color:#111; /* immer sichtbar */
    }
    .tabbtn.active {
      background:#111;
      border-color:#111;
      color:#fff; /* aktiver Tab */
    }
    /* ===================================== */

    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    input, select, textarea, button {
      font: inherit; border-radius: 12px; border: 1px solid #d9dbe6; padding: 10px 12px;
      background:#fff; color:#111;
    }
    textarea { min-height: 42px; resize: vertical; width: 100%; }
    button { cursor:pointer; background:#111; color:#fff; border:1px solid #111; }
    button.secondary { background:#fff; color:#111; border: 1px solid #d9dbe6; }

    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    @media (max-width: 720px) { .grid2 { grid-template-columns: 1fr; } }

    .sectionTitle { margin: 14px 0 8px; font-weight: 750; }
    .muted { color:#666; font-size: 12px; }

    .auditCard { border: 1px solid #eef0f6; border-radius: 16px; padding: 12px; background:#fff; }
    .q { border-top: 1px solid #f0f1f7; padding-top: 10px; margin-top: 10px; }
    .q:first-child { border-top: none; padding-top: 0; margin-top: 0; }
    .qTitle { font-weight: 650; }
    .yn { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-top: 6px; }
    .yn label { display:flex; gap:8px; align-items:center; cursor:pointer; }

    .reqBox { margin-top: 8px; padding: 10px; border-radius: 14px; border: 1px solid #ffd6d6; background: #fff6f6; display:none; }
    .reqBox.show { display:block; }

    .photoWrap { margin-top: 10px; padding: 10px; border-radius: 14px; border: 1px dashed #ffb6b6; background: #fff; }
    .photoThumb { margin-top: 10px; max-width: 220px; width: 100%; border-radius: 12px; border: 1px solid #eef0f6; display:none; }
    .photoThumb.show { display:block; }
    .dangerText { color:#b00020; font-size: 12px; }

    .list { display:grid; gap:10px; margin-top: 10px; }
    .item { border: 1px solid #eef0f6; border-radius: 16px; padding: 12px; display:grid; gap:8px; }
    .itemTop { display:flex; justify-content: space-between; gap:10px; flex-wrap: wrap; }
    .badge { padding: 6px 10px; border-radius: 999px; font-size: 12px; border: 1px solid #e4e6f1; background:#f1f2f7; color:#111; }
    .danger { border-color:#ffd6d6; background:#fff0f0; }
    .ok { border-color:#d9f5df; background:#f0fff3; }
    .small { font-size: 12px; color:#555; }
    .hr { height:1px; background:#eef0f6; border:0; margin: 12px 0; }
    .kpi { display:flex; gap:10px; flex-wrap:wrap; }
    .photoMini { max-width: 160px; width: 100%; border-radius: 12px; border: 1px solid #eef0f6; margin-top: 6px; }

    .readonlyBox { border: 1px solid #eef0f6; border-radius: 14px; padding: 10px; background: #fafbff; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">

      <div class="topbar">
        <div>
          <h1>Audit-App light</h1>
          <div class="sub">Klicken, nachverfolgen, nachweisen – ohne Chaos.</div>
        </div>
        <div class="row">
          <span class="pill">v7</span>
          <span class="pill" id="nowPill">—</span>
          <button class="secondary" id="pdfBtn">PDF-Nachweis</button>
          <button class="secondary" id="resetBtn">Reset</button>
        </div>
      </div>

      <div class="tabs">
        <button class="tabbtn active" data-tab="audit">Audit</button>
        <button class="tabbtn" data-tab="actions">Maßnahmen</button>
        <button class="tabbtn" data-tab="overview">Übersicht</button>
        <button class="tabbtn" data-tab="archive">Archiv</button>
      </div>

      <!-- INHALT (kurz, unverändert zur v6-Logik) -->
      <div id="view_audit">
        <div class="auditCard">
          <div class="qTitle">Täglicher Betriebscheck – Wareneingang</div>
          <div class="muted">Tabs sind jetzt dauerhaft sichtbar (PC & Handy).</div>
        </div>
      </div>

      <div id="view_actions" style="display:none;">
        <div class="auditCard"><b>Maßnahmen</b> – Ansicht</div>
      </div>

      <div id="view_overview" style="display:none;">
        <div class="auditCard"><b>Übersicht</b> – Ansicht</div>
      </div>

      <div id="view_archive" style="display:none;">
        <div class="auditCard"><b>Archiv</b> – Ansicht</div>
      </div>

    </div>
  </div>

<script>
  // Tabs
  const tabs = document.querySelectorAll('.tabbtn');
  const views = {
    audit: document.getElementById('view_audit'),
    actions: document.getElementById('view_actions'),
    overview: document.getElementById('view_overview'),
    archive: document.getElementById('view_archive')
  };

  tabs.forEach(btn => {
    btn.addEventListener('click', () => {
      tabs.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      Object.values(views).forEach(v => v.style.display = 'none');
      views[btn.dataset.tab].style.display = 'block';
    });
  });

  // Uhrzeit
  function tick() {
    const d = new Date();
    document.getElementById('nowPill').textContent =
      d.toLocaleDateString('de-DE') + ' ' + d.toLocaleTimeString('de-DE', {hour:'2-digit', minute:'2-digit'});
  }
  tick(); setInterval(tick, 30000);

  // PDF (Demo)
  document.getElementById('pdfBtn').onclick = () => window.print();

  // Reset (Demo)
  document.getElementById('resetBtn').onclick = () => alert('Reset ausgelöst (Demo)');
</script>

</body>
</html>
